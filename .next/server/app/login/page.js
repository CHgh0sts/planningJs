(()=>{var e={};e.id=626,e.ids=[626],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},9267:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),r(619),r(4174),r(996);var s=r(170),a=r(5002),n=r(3876),o=r.n(n),l=r(6299),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,619)),"/Users/chghosts/Developpement/planningJs/app/login/page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4174)),"/Users/chghosts/Developpement/planningJs/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/chghosts/Developpement/planningJs/app/login/page.jsx"],c="/login/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4320:(e,t,r)=>{Promise.resolve().then(r.bind(r,9159))},8466:(e,t,r)=>{Promise.resolve().then(r.bind(r,2698))},207:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3642,23)),Promise.resolve().then(r.t.bind(r,7586,23)),Promise.resolve().then(r.t.bind(r,7838,23)),Promise.resolve().then(r.t.bind(r,8057,23)),Promise.resolve().then(r.t.bind(r,7741,23)),Promise.resolve().then(r.t.bind(r,3118,23))},9159:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(7247),a=r(8964),n=r(4178),o=r(6991),l=r(8053),i=r(8406),d=r(457),u=r(2698);function c(){let{me:e,setMe:t}=(0,a.useContext)(u.k),[r,c]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),[b,v]=(0,a.useState)(!1),[y,w]=(0,a.useState)(""),[j,S]=(0,a.useState)(""),[P,k]=(0,a.useState)(null),N=(0,n.useRouter)(),C=async e=>{e.preventDefault(),f(null);try{let e=await fetch("/api/account/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:p})}),t=await e.json();if(!e.ok)throw Error(t.error||"Erreur lors de la connexion. V\xe9rifiez vos identifiants.");if(t.isTempPassword){v(!0),t.token&&localStorage.setItem("token",t.token);return}if(t.token)localStorage.setItem("token",t.token),N.push("/");else throw Error("Erreur lors de la r\xe9cup\xe9ration du token.")}catch(e){console.log(e),f(e.message)}},E=async()=>{if(y!==j){k("Les mots de passe ne correspondent pas");return}try{let e=await fetch("/api/account/validateLogin",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({newPassword:y,confirmPassword:j})}),t=await e.json();if(!e.ok)throw Error(t.error||"Erreur lors de la mise \xe0 jour du mot de passe");if(t.token)localStorage.setItem("token",t.token),N.push("/");else throw Error("Erreur lors de la r\xe9cup\xe9ration du token.")}catch(e){k(e.message)}};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b?(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Changer le mot de passe"}),P&&s.jsx("p",{className:"text-red-500 text-center",children:P}),s.jsx(o.I,{type:"password",placeholder:"Nouveau mot de passe",value:y,onChange:e=>w(e.target.value),required:!0,className:"w-full border-gray-300 rounded-md mb-4"}),s.jsx(o.I,{type:"password",placeholder:"Confirmer le mot de passe",value:j,onChange:e=>S(e.target.value),required:!0,className:"w-full border-gray-300 rounded-md mb-4"}),s.jsx(l.z,{onClick:E,className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-700",children:"Mettre \xe0 jour le mot de passe"})]}):s.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:(0,s.jsxs)("form",{onSubmit:C,className:"flex flex-col space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Connexion"}),x&&s.jsx("p",{className:"text-red-500 text-center",children:x}),s.jsx(o.I,{type:"text",placeholder:"Nom d'utilisateur",value:r,onChange:e=>c(e.target.value),required:!0,className:"w-full border-gray-300 rounded-md"}),(0,s.jsxs)("div",{className:"relative w-full",children:[s.jsx(o.I,{type:h?"text":"password",placeholder:"Mot de passe",value:p,onChange:e=>m(e.target.value),required:!0,className:"w-full border-gray-300 rounded-md pr-10"}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>g(!h),children:h?s.jsx(i.Z,{className:"h-5 w-5 text-gray-500"}):s.jsx(d.Z,{className:"h-5 w-5 text-gray-500"})})]}),s.jsx(l.z,{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-700",children:"Se connecter"})]})})})}},8053:(e,t,r)=>{"use strict";r.d(t,{d:()=>i,z:()=>d});var s=r(7247),a=r(8964),n=r(9008),o=r(1608),l=r(5008);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-500 text-primary-foreground shadow hover:bg-blue-600",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...o},d)=>{let u=a?n.g7:"button";return s.jsx(u,{className:(0,l.cn)(i({variant:t,size:r,className:e})),ref:d,...o})});d.displayName="Button"},6991:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s=r(7247),a=r(8964),n=r(5008);let o=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));o.displayName="Input"},2698:(e,t,r)=>{"use strict";r.d(t,{GlobalProvider:()=>o,k:()=>n});var s=r(7247),a=r(8964);let n=(0,a.createContext)(),o=({children:e})=>{let[t,r]=(0,a.useState)(new Date),[o,l]=(0,a.useState)(!0),[i,d]=(0,a.useState)(!1),[u,c]=(0,a.useState)("month"),[p,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(!0),[b,v]=(0,a.useState)([]),[y,w]=(0,a.useState)([]),[j,S]=(0,a.useState)([]),[P,k]=(0,a.useState)(null),[N,C]=(0,a.useState)([]),[E,_]=(0,a.useState)(null);return(0,a.useEffect)(()=>{r(new Date)},[]),s.jsx(n.Provider,{value:{actualDate:t,setActualDate:r,leftBar:o,setLeftBar:l,rightBar:i,setRightBar:d,calendarView:u,setCalendarView:c,isDialogOpen:p,setIsDialogOpen:m,actualEditDate:h,setActualEditDate:g,pageLoading:x,setPageLoading:f,calendar:b,setCalendar:v,idUserList:y,setIdUserList:w,ListUsers:j,setListUsers:S,listEvent:N,setListEvent:C,me:P,setMe:k,hoursAddEvent:E,setHoursAddEvent:_},children:e})}},5008:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(1929),a=r(5770);function n(...e){return(0,a.m6)((0,s.W)(e))}},8406:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6323).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},457:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6323).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4174:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>u});var s=r(2051),a=r(8589),n=r.n(a),o=r(7399),l=r.n(o);r(7272);var i=r(5347);(0,i.createProxy)(String.raw`/Users/chghosts/Developpement/planningJs/lib/GlobalState.js#GlobalContext`);let d=(0,i.createProxy)(String.raw`/Users/chghosts/Developpement/planningJs/lib/GlobalState.js#GlobalProvider`),u={title:"Create Next App",description:"Generated by create next app"};function c({children:e}){return s.jsx("html",{lang:"fr",children:s.jsx("body",{className:`${n().variable} ${l().variable} antialiased`,children:s.jsx(d,{children:e})})})}},619:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(5347).createProxy)(String.raw`/Users/chghosts/Developpement/planningJs/app/login/page.jsx#default`)},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(4564);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[379,250,455],()=>r(9267));module.exports=s})();